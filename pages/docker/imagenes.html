<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <title>Imágenes Docker - Wiki 2º DAW</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo"><i class="fas fa-book-open"></i><h1>Wiki 2º DAW</h1></div>
            <a href="./index.html" class="back-button"><i class="fas fa-arrow-left"></i> Volver a Docker</a>
        </div>
    </nav>

    <div class="content-with-sidebar">
        <aside class="sidebar">
            <h3 class="sidebar-title"><i class="fab fa-docker"></i> Imágenes</h3>
            <ul class="sidebar-nav">
                <li><a href="#que-son" class="active">¿Qué son las Imágenes?</a></li>
                <li><a href="#dockerfile">Dockerfile</a></li>
                <li><a href="#construir">Construir Imágenes</a></li>
                <li><a href="#capas">Capas</a></li>
                <li><a href="#registros">Registros</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <div class="detail-header">
                <div class="detail-icon" style="color: var(--docker-color);"><i class="fab fa-docker"></i></div>
                <h1 class="detail-title">2. Imágenes Docker</h1>
                <p class="detail-subtitle">Plantillas para contenedores</p>
            </div>

            <div class="content-section" id="que-son">
                <h2><i class="fas fa-layer-group"></i> ¿Qué son las Imágenes?</h2>
                <p>Una <strong>imagen Docker</strong> es una plantilla de solo lectura que contiene todo lo necesario 
                para ejecutar una aplicación: código, runtime, librerías, variables de entorno, archivos de configuración.</p>
                <p><strong>Analogía:</strong> Una imagen es como una receta de cocina. Define los ingredientes y pasos, 
                pero no es la comida en sí. Los contenedores son el plato preparado usando esa receta.</p>
            </div>

            <div class="content-section" id="dockerfile">
                <h2><i class="fas fa-file-code"></i> Dockerfile</h2>
                <p>Un <strong>Dockerfile</strong> es un archivo de texto con instrucciones para construir una imagen.</p>
                <div class="code-block"><pre># Imagen base
FROM node:18-alpine

# Directorio de trabajo
WORKDIR /app

# Copiar archivos de dependencias
COPY package*.json ./

# Instalar dependencias
RUN npm install

# Copiar código fuente
COPY . .

# Exponer puerto
EXPOSE 3000

# Comando de inicio
CMD ["npm", "start"]</pre></div>
                <h3>Instrucciones Principales</h3>
                <ul>
                    <li><strong>FROM:</strong> Imagen base a usar</li>
                    <li><strong>WORKDIR:</strong> Directorio de trabajo</li>
                    <li><strong>COPY:</strong> Copiar archivos al contenedor</li>
                    <li><strong>RUN:</strong> Ejecutar comandos durante la construcción</li>
                    <li><strong>EXPOSE:</strong> Documentar qué puerto usa la app</li>
                    <li><strong>CMD:</strong> Comando por defecto al iniciar</li>
                </ul>
            </div>

            <div class="content-section" id="construir">
                <h2><i class="fas fa-hammer"></i> Construir Imágenes</h2>
                <div class="code-block"><pre># Construir imagen
docker build -t mi-app:1.0 .

# Con nombre y tag
docker build -t usuario/mi-app:latest .

# Ver imágenes
docker images

# Inspeccionar imagen
docker inspect mi-app:1.0

# Eliminar imagen
docker rmi mi-app:1.0</pre></div>
            </div>

            <div class="content-section" id="capas">
                <h2><i class="fas fa-layer-group"></i> Sistema de Capas</h2>
                <p>Las imágenes están formadas por <strong>capas</strong>. Cada instrucción en el Dockerfile crea una 
                nueva capa. Las capas se reutilizan para optimizar espacio y tiempo.</p>
                <div class="info-box">
                    <p><strong>Ventaja:</strong> Si modificas solo una línea del Dockerfile, Docker solo reconstruye 
                    desde esa capa en adelante, no toda la imagen.</p>
                </div>
            </div>

            <div class="content-section" id="registros">
                <h2><i class="fas fa-cloud"></i> Registros de Imágenes</h2>
                <h3>Docker Hub</h3>
                <div class="code-block"><pre># Login
docker login

# Subir imagen
docker push usuario/mi-app:latest

# Descargar imagen
docker pull usuario/mi-app:latest</pre></div>
            </div>
        </main>
    </div>

    <script src="../../js/main.js"></script>
    <script>document.addEventListener('DOMContentLoaded',function(){const sections=document.querySelectorAll('.content-section');const navLinks=document.querySelectorAll('.sidebar-nav a');function changeActiveLink(){let currentSection='';sections.forEach(section=>{const sectionTop=section.offsetTop;if(window.pageYOffset>=sectionTop-100){currentSection=section.getAttribute('id');}});navLinks.forEach(link=>{link.classList.remove('active');if(link.getAttribute('href')==='#'+currentSection){link.classList.add('active');}});}window.addEventListener('scroll',changeActiveLink);});</script>
</body>
</html>
